<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ipaddress">
<title>IP Data • ipaddress</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="IP Data">
<meta property="og:description" content="ipaddress">
<meta property="og:image" content="https://davidchall.github.io/ipaddress/logo.svg">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ipaddress</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.0.2.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/ip-data.html">IP Data</a>
    <a class="dropdown-item" href="../articles/recipes.html">Examples and Recipes</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/davidchall/ipaddress/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>IP Data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/davidchall/ipaddress/blob/HEAD/vignettes/ip-data.Rmd" class="external-link"><code>vignettes/ip-data.Rmd</code></a></small>
      <div class="d-none name"><code>ip-data.Rmd</code></div>
    </div>

    
    
<p>The ipaddress R package was heavily influenced by the design of the
<a href="https://docs.python.org/3/library/ipaddress.html" class="external-link">ipaddress</a>
module in the Python Standard Library. For this reason, the package is
centered around 3 data classes: <code><a href="../reference/ip_address.html">ip_address()</a></code>,
<code><a href="../reference/ip_network.html">ip_network()</a></code> and <code><a href="../reference/ip_interface.html">ip_interface()</a></code>.</p>
<p>This vignette is styled after the <a href="https://docs.python.org/3/howto/ipaddress.html" class="external-link">official
tutorial</a> for the Python module. It introduces you to these classes,
laying the groundwork for the rest of the package functionality.</p>
<div class="section level2">
<h2 id="ip-addresses">IP Addresses<a class="anchor" aria-label="anchor" href="#ip-addresses"></a>
</h2>
<div class="section level3">
<h3 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a>
</h3>
<p>IP addresses are used to facilitate communications between computers
connected to the internet. At this highest level, an IP address is
analogous to a mailing address.</p>
<p>It’s important to know there are two versions of the Internet
Protocol in wide usage today. IPv4 stores addresses using 32 bits, which
provides 4,294,967,296 unique addresses. But given the rapid growth of
the internet, this address space was quickly depleted. The replacement
protocol (known as IPv6) stores addresses using 128 bits, which provides
a far greater number of unique addresses (sufficient for the foreseeable
future). The transition to IPv6 is currently ongoing, so it is still
very common to see IPv4 addresses.</p>
<p>To make IP addresses easier for humans to interpret, they are usually
represented as character strings.</p>
<ul>
<li>An IPv4 address is represented as 4 groups of decimal numbers from
<code>0</code> to <code>255</code> separated by periods
(e.g. <code>192.168.0.1</code>). Each group corresponds to 8 bits.</li>
<li>An IPv6 address is represented as 8 groups of hexadecimal numbers
from <code>0000</code> to <code>ffff</code> separated by colons
(e.g. <code>2001:0db8:85a3:0000:0000:8a2e:0370:7334</code>). Each group
corresponds to 16 bits. This representation can also be compressed by
removing leading zeros and replacing consecutive groups of zeros with
double-colon (e.g. <code>2001:db8:85a3::8a2e:370:7334</code>).</li>
</ul>
</div>
<div class="section level3">
<h3 id="class-constructor">Class constructor<a class="anchor" aria-label="anchor" href="#class-constructor"></a>
</h3>
<p>An <code><a href="../reference/ip_address.html">ip_address()</a></code> vector is constructed from a character
vector of these human-readable strings. It can handle IPv4 and IPv6
addresses simultaneously:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ip_address.html">ip_address</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"192.168.0.1"</span>, <span class="st">"2001:db8::8a2e:370:7334"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;ip_address[2]&gt;</span></span>
<span><span class="co">#&gt; [1] 192.168.0.1             2001:db8::8a2e:370:7334</span></span></code></pre></div>
<p>IP addresses are often stored as integers for convenience, so you
might need to encode or decode this format. The
<code><a href="../reference/ip_to_integer.html">ip_to_integer()</a></code> and <code><a href="../reference/ip_to_integer.html">integer_to_ip()</a></code> functions
are provided for this purpose. We recommend reading the documentation
before use, because these functions can be slightly counter-intuitive
(due to circumventing limitations of the R integer data type).</p>
</div>
<div class="section level3">
<h3 id="data-storage">Data storage<a class="anchor" aria-label="anchor" href="#data-storage"></a>
</h3>
<p>The above example looks like we’ve simply stored the character
vector. However, the constructor has actually validated each input and
stored the native bit representation of each address. When the vector is
displayed, the <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method formats each value back to
the human-readable character representation. We can see this in action
by passing an invalid address:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ip_address.html">ip_address</a></span><span class="op">(</span><span class="st">"255.255.255.256"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Problem on row 1: 255.255.255.256</span></span>
<span><span class="co">#&gt; &lt;ip_address[1]&gt;</span></span>
<span><span class="co">#&gt; [1] &lt;NA&gt;</span></span></code></pre></div>
<p>There are two main advantages to storing IP data in their native bit
representation:</p>
<ul>
<li>The data occupy less space in memory (up to 80% reduction),</li>
<li>Subsequent use is much faster, since we don’t repeatedly parse the
character vector.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="ip-networks">IP Networks<a class="anchor" aria-label="anchor" href="#ip-networks"></a>
</h2>
<div class="section level3">
<h3 id="background-1">Background<a class="anchor" aria-label="anchor" href="#background-1"></a>
</h3>
<p>An IP network is a contiguous range of IP addresses (also known as an
IP block). These networks are very important to how address allocation
and routing work.</p>
<p>The size of a network is determined by its <em>prefix length</em>.
This indicates how many bits are reserved (counting from the left) for
the routing prefix address (i.e. the start of the address range). The
remaining bits are available for allocation to hosts (so all hosts on a
network will share the same prefix bits). This means a network with a
larger prefix length is actually a smaller network.</p>
<p>The most common representation of an IP network is called CIDR
notation. This shows the routing prefix address and the prefix length,
separated by a forward slash. This notation is used by both IPv4 and
IPv6 networks.</p>
<p>As an example, the <code>192.168.0.0/24</code> network represents the
address range from <code>192.168.0.0</code> to
<code>192.168.0.255</code>.</p>
</div>
<div class="section level3">
<h3 id="class-constructor-1">Class constructor<a class="anchor" aria-label="anchor" href="#class-constructor-1"></a>
</h3>
<p>An <code><a href="../reference/ip_network.html">ip_network()</a></code> vector is constructed from a character
vector of these CIDR strings. For example:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ip_network.html">ip_network</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"192.168.0.0/24"</span>, <span class="st">"2001:db8::/48"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;ip_network[2]&gt;</span></span>
<span><span class="co">#&gt; [1] 192.168.0.0/24 2001:db8::/48</span></span></code></pre></div>
<p>An IP network cannot have any host bits set. If host bits were set,
this would refer to a specific host on the network and not the network
as a whole – this is the purpose of the <code><a href="../reference/ip_interface.html">ip_interface()</a></code>
class (see below).</p>
<p>The <code><a href="../reference/ip_network.html">ip_network()</a></code> constructor enforces this rule during
input validation. If an input has host bits set, a warning is emitted
and <code>NA</code> is returned. However, you can mask out the host bits
using <code>strict = FALSE</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ip_network.html">ip_network</a></span><span class="op">(</span><span class="st">"192.168.0.1/24"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Problem on row 1: 192.168.0.1/24 (host bits set)</span></span>
<span><span class="co">#&gt; &lt;ip_network[1]&gt;</span></span>
<span><span class="co">#&gt; [1] &lt;NA&gt;</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ip_network.html">ip_network</a></span><span class="op">(</span><span class="st">"192.168.0.1/24"</span>, strict <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;ip_network[1]&gt;</span></span>
<span><span class="co">#&gt; [1] 192.168.0.0/24</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="ip-interfaces">IP Interfaces<a class="anchor" aria-label="anchor" href="#ip-interfaces"></a>
</h2>
<div class="section level3">
<h3 id="background-2">Background<a class="anchor" aria-label="anchor" href="#background-2"></a>
</h3>
<p>We’ve learned about host addresses and how they are grouped into
networks. Unsurprisingly then, people often think about an IP address
within the context of its network (i.e. storing both pieces of
information simultaneously). The ipaddress package refers to this
concept as an IP interface.</p>
<p>An IP interface could be represented in many different ways (e.g. two
addresses containing the network bits and host bits separately).
However, the most common representation is CIDR notation again.</p>
</div>
<div class="section level3">
<h3 id="class-constructor-2">Class constructor<a class="anchor" aria-label="anchor" href="#class-constructor-2"></a>
</h3>
<p>An <code><a href="../reference/ip_interface.html">ip_interface()</a></code> vector is constructed from a character
vector of CIDR strings, just like an <code><a href="../reference/ip_network.html">ip_network()</a></code> vector.
However, unlike <code><a href="../reference/ip_network.html">ip_network()</a></code>, the
<code><a href="../reference/ip_interface.html">ip_interface()</a></code> class retains the host bits.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ip_interface.html">ip_interface</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"192.168.0.1/10"</span>, <span class="st">"2001:db8:c3::abcd/45"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;ip_interface[2]&gt;</span></span>
<span><span class="co">#&gt; [1] 192.168.0.1/10       2001:db8:c3::abcd/45</span></span></code></pre></div>
<p>Since this class represents a host on a specific network, most
functions will treat an <code><a href="../reference/ip_interface.html">ip_interface()</a></code> vector like an
<code><a href="../reference/ip_address.html">ip_address()</a></code> vector. Some exceptions are listed under
<code><a href="../reference/ip_interface.html">help(ip_interface)</a></code>.</p>
<p>The address and network components can be extracted using the
<code><a href="../reference/ip_cast.html">as_ip_address()</a></code> and <code><a href="../reference/ip_cast.html">as_ip_network()</a></code> functions,
respectively.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ip_interface.html">ip_interface</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"192.168.0.1/10"</span>, <span class="st">"2001:db8:c3::abcd/45"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ip_cast.html">as_ip_address</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;ip_address[2]&gt;</span></span>
<span><span class="co">#&gt; [1] 192.168.0.1       2001:db8:c3::abcd</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ip_cast.html">as_ip_network</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;ip_network[2]&gt;</span></span>
<span><span class="co">#&gt; [1] 192.128.0.0/10   2001:db8:c0::/45</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<p>The ipaddress package provides the <code><a href="../reference/ip_address.html">ip_address()</a></code> and
<code><a href="../reference/ip_network.html">ip_network()</a></code> data classes, which represent the most
fundamental aspects of IP networking. The majority of functions
contained in this package use these classes.</p>
<p>An <code><a href="../reference/ip_interface.html">ip_interface()</a></code> class is also provided, which is a
hybrid class describing a specific host on a specific network. Although
most functions treat this class like an <code><a href="../reference/ip_address.html">ip_address()</a></code>, the
constituent address and network components can be extracted using
<code><a href="../reference/ip_cast.html">as_ip_address()</a></code> and <code><a href="../reference/ip_cast.html">as_ip_network()</a></code>.</p>
<div class="figure">
<img src="ipaddress_classes.png" alt=""><p class="caption">Summary of ipaddress classes</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by David Hall.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
