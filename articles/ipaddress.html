<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to ipaddress • ipaddress</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Introduction to ipaddress">
<meta property="og:description" content="ipaddress">
<meta property="og:image" content="https://davidchall.github.io/ipaddress/logo.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@hall_davidc">
<meta name="twitter:site" content="@hall_davidc">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-160789885-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-160789885-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ipaddress</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ipaddress.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/davidchall/ipaddress/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to ipaddress</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/davidchall/ipaddress/blob/master/vignettes/ipaddress.Rmd"><code>vignettes/ipaddress.Rmd</code></a></small>
      <div class="hidden name"><code>ipaddress.Rmd</code></div>

    </div>

    
    
<p>The ipaddress R package was heavily influenced by the design of the <a href="https://docs.python.org/library/ipaddress.html">ipaddress</a> module in the Python Standard Library. For this reason, the package is centered around 3 data classes: <code><a href="../reference/ip_address.html">ip_address()</a></code>, <code><a href="../reference/ip_network.html">ip_network()</a></code> and <code><a href="../reference/ip_interface.html">ip_interface()</a></code>.</p>
<p>This vignette is styled after the <a href="https://docs.python.org/howto/ipaddress.html">official tutorial</a> for the Python module. It introduces you to these classes, laying the groundwork for the rest of the package functionality.</p>
<div id="ip-addresses" class="section level1">
<h1 class="hasAnchor">
<a href="#ip-addresses" class="anchor"></a>IP Addresses</h1>
<div id="background" class="section level2">
<h2 class="hasAnchor">
<a href="#background" class="anchor"></a>Background</h2>
<p>IP addresses are used to facilitate communications between computers connected to the internet. At this highest level, an IP address is analogous to a mailing address.</p>
<p>It’s important to know there are two versions of the Internet Protocol in wide usage today. IPv4 stores addresses using 32 bits, which provides 4,294,967,296 unique addresses. But given the rapid growth of the internet, this address space was quickly depleted. The replacement protocol (known as IPv6) stores addresses using 128 bits, which provides a far greater number of unique addresses (sufficient for the foreseeable future). The transition to IPv6 is currently ongoing, so it is still very common to see IPv4 addresses.</p>
<p>To make IP addresses easier for humans to interpret, they are usually represented as character strings.</p>
<ul>
<li>An IPv4 address is represented as 4 groups of decimal numbers from <code>0</code> to <code>255</code> separated by periods (e.g. <code>192.168.0.1</code>). Each group corresponds to 8 bits.</li>
<li>An IPv6 address is represented as 8 groups of hexadecimal numbers from <code>0000</code> to <code>ffff</code> separated by colons (e.g. <code>2001:0db8:85a3:0000:0000:8a2e:0370:7334</code>). Each group corresponds to 16 bits. This representation can also be compressed by removing leading zeros and replacing consecutive groups of zeros with double-colon (e.g. <code>2001:db8:85a3::8a2e:370:7334</code>).</li>
</ul>
</div>
<div id="class-constructor" class="section level2">
<h2 class="hasAnchor">
<a href="#class-constructor" class="anchor"></a>Class constructor</h2>
<p>An <code><a href="../reference/ip_address.html">ip_address()</a></code> vector is constructed from a character vector of these human-readable strings. It can handle IPv4 and IPv6 addresses simultaneously:</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="../reference/ip_address.html">ip_address</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"192.168.0.1"</span>, <span class="st">"2001:db8::8a2e:370:7334"</span>))
<span class="co">#&gt; &lt;ip_address[2]&gt;</span>
<span class="co">#&gt; [1] 192.168.0.1             2001:db8::8a2e:370:7334</span></pre></body></html></div>
<p>IP addresses are often stored as integers for convenience, so you might need to encode or decode this format. The <code><a href="../reference/ip_to_integer.html">ip_to_integer()</a></code> and <code><a href="../reference/ip_to_integer.html">integer_to_ip()</a></code> functions are provided for this purpose. We recommend reading the documentation before use, because these functions can be slightly counter-intuitive (due to circumventing limitations of the R integer data type).</p>
</div>
<div id="data-storage" class="section level2">
<h2 class="hasAnchor">
<a href="#data-storage" class="anchor"></a>Data storage</h2>
<p>The above example looks like we’ve simply stored the character vector. However, the constructor has actually validated each input and stored the native bit representation of each address. The <code><a href="https://rdrr.io/r/base/print.html">print()</a></code> function has then converted them back to the human-readable character representation. We can see this in action by passing an invalid address:</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="../reference/ip_address.html">ip_address</a></span>(<span class="st">"255.255.255.256"</span>)
<span class="co">#&gt; Warning: Invalid value on row 1: 255.255.255.256</span>
<span class="co">#&gt; &lt;ip_address[1]&gt;</span>
<span class="co">#&gt; [1] &lt;NA&gt;</span></pre></body></html></div>
<p>There are two main advantages to storing IP data in their native bit representation:</p>
<ul>
<li>The data occupy less space in memory,</li>
<li>Subsequent use is much faster, because we don’t need to parse and validate the character vector again.</li>
</ul>
</div>
</div>
<div id="ip-networks" class="section level1">
<h1 class="hasAnchor">
<a href="#ip-networks" class="anchor"></a>IP Networks</h1>
<div id="background-1" class="section level2">
<h2 class="hasAnchor">
<a href="#background-1" class="anchor"></a>Background</h2>
<p>An IP network is a contiguous range of IP addresses (also known as an IP block). These networks are very important to how address allocation and routing work.</p>
<p>The size of a network is determined by its <em>prefix length</em>. This indicates how many bits are reserved (counting from the left) for the routing prefix address (i.e. the start of the address range). The remaining bits are available for allocation to hosts (so all hosts on a network will share the same prefix bits). This means a network with a larger prefix length is actually a smaller network.</p>
<p>The most common representation of an IP network is called CIDR notation. This shows the routing prefix address and the prefix length, separated by a forward slash. This notation is used by both IPv4 and IPv6 networks.</p>
<p>As an example, the <code>192.168.0.0/24</code> network represents the address range from <code>192.168.0.0</code> to <code>192.168.0.255</code>.</p>
</div>
<div id="class-constructor-1" class="section level2">
<h2 class="hasAnchor">
<a href="#class-constructor-1" class="anchor"></a>Class constructor</h2>
<p>An <code><a href="../reference/ip_network.html">ip_network()</a></code> vector is constructed from a character vector of these CIDR strings. For example:</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="fu"><a href="../reference/ip_network.html">ip_network</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"192.168.0.0/24"</span>, <span class="st">"2001:db8::/48"</span>))
<span class="co">#&gt; &lt;ip_network[2]&gt;</span>
<span class="co">#&gt; [1] 192.168.0.0/24 2001:db8::/48</span></pre></body></html></div>
<p>An IP network cannot have any host bits set. If host bits were set, this would refer to a specific host on the network and not the network as a whole – this is the purpose of the <code><a href="../reference/ip_interface.html">ip_interface()</a></code> class (see below).</p>
<p>The <code><a href="../reference/ip_network.html">ip_network()</a></code> constructor enforces this rule during input validation. If an input has host bits set, a warning is emitted and <code>NA</code> is returned. However, you can mask out the host bits using <code>strict = FALSE</code>.</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="fu"><a href="../reference/ip_network.html">ip_network</a></span>(<span class="st">"192.168.0.1/24"</span>)
<span class="co">#&gt; Warning: Invalid value on row 1: 192.168.0.1/24 (host bits set)</span>
<span class="co">#&gt; &lt;ip_network[1]&gt;</span>
<span class="co">#&gt; [1] &lt;NA&gt;</span>

<span class="fu"><a href="../reference/ip_network.html">ip_network</a></span>(<span class="st">"192.168.0.1/24"</span>, <span class="kw">strict</span> <span class="kw">=</span> <span class="fl">FALSE</span>)
<span class="co">#&gt; &lt;ip_network[1]&gt;</span>
<span class="co">#&gt; [1] 192.168.0.0/24</span></pre></body></html></div>
</div>
</div>
<div id="ip-interfaces" class="section level1">
<h1 class="hasAnchor">
<a href="#ip-interfaces" class="anchor"></a>IP Interfaces</h1>
<div id="background-2" class="section level2">
<h2 class="hasAnchor">
<a href="#background-2" class="anchor"></a>Background</h2>
<p>We’ve learned about host addresses and how they are grouped into networks. Unsurprisingly then, people often think about an IP address within the context of its network (i.e. storing both pieces of information simultaneously). The ipaddress package refers to this concept as an IP interface.</p>
<p>An IP interface could be represented in many different ways (e.g. two addresses containing the network bits and host bits separately). However, the most common representation is CIDR notation again.</p>
</div>
<div id="class-constructor-2" class="section level2">
<h2 class="hasAnchor">
<a href="#class-constructor-2" class="anchor"></a>Class constructor</h2>
<p>An <code><a href="../reference/ip_interface.html">ip_interface()</a></code> vector is constructed from a character vector of CIDR strings, just like an <code><a href="../reference/ip_network.html">ip_network()</a></code> vector. However, unlike <code><a href="../reference/ip_network.html">ip_network()</a></code>, the <code><a href="../reference/ip_interface.html">ip_interface()</a></code> class retains the host bits.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="../reference/ip_interface.html">ip_interface</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"192.168.0.1/10"</span>, <span class="st">"2001:db8:c3::abcd/45"</span>))
<span class="co">#&gt; &lt;ip_interface[2]&gt;</span>
<span class="co">#&gt; [1] 192.168.0.1/10       2001:db8:c3::abcd/45</span></pre></body></html></div>
<p>Since this class represents a host on a specific network, most functions will treat an <code><a href="../reference/ip_interface.html">ip_interface()</a></code> vector like an <code><a href="../reference/ip_address.html">ip_address()</a></code> vector. Some exceptions are listed under <code><a href="../reference/ip_interface.html">help(ip_interface)</a></code>.</p>
<p>The address and network components can be extracted using the <code><a href="../reference/ip_address.html">as_ip_address()</a></code> and <code><a href="../reference/ip_network.html">as_ip_network()</a></code> functions, respectively.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="no">x</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/ip_interface.html">ip_interface</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"192.168.0.1/10"</span>, <span class="st">"2001:db8:c3::abcd/45"</span>))

<span class="fu"><a href="../reference/ip_address.html">as_ip_address</a></span>(<span class="no">x</span>)
<span class="co">#&gt; &lt;ip_address[2]&gt;</span>
<span class="co">#&gt; [1] 192.168.0.1       2001:db8:c3::abcd</span>

<span class="fu"><a href="../reference/ip_network.html">as_ip_network</a></span>(<span class="no">x</span>)
<span class="co">#&gt; &lt;ip_network[2]&gt;</span>
<span class="co">#&gt; [1] 192.128.0.0/10   2001:db8:c0::/45</span></pre></body></html></div>
</div>
</div>
<div id="summary" class="section level1">
<h1 class="hasAnchor">
<a href="#summary" class="anchor"></a>Summary</h1>
<p>The ipaddress package provides the <code><a href="../reference/ip_address.html">ip_address()</a></code> and <code><a href="../reference/ip_network.html">ip_network()</a></code> data classes, which represent the most fundamental aspects of IP networking. The majority of functions contained in this package use these classes.</p>
<p>An <code><a href="../reference/ip_interface.html">ip_interface()</a></code> class is also provided, which is a hybrid class describing a specific host on a specific network. Although most functions treat this class like an <code><a href="../reference/ip_address.html">ip_address()</a></code>, the constituent address and network components can be extracted using <code><a href="../reference/ip_address.html">as_ip_address()</a></code> and <code><a href="../reference/ip_network.html">as_ip_network()</a></code>.</p>
<div class="figure">
<img src="ipaddress_classes.png" alt=""><p class="caption">Summary of ipaddress classes</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by David Hall.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'a959f56e56e76081c6ebdec4073adbaf',
    indexName: 'ipaddress',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
